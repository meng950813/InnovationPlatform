<!DOCTYPE html>
<html lang="en">
<head>
    <!-- create by cm -->
	<meta charset="UTF-8">
	<title>专家注册</title>
	<script src="__PUBLIC__/js/jquery.min.js"></script>
	<script src="__PUBLIC__/js/signup.js"></script>
	<link rel="stylesheet" href="__PUBLIC__/css/home/signup.css">  
	<link rel="stylesheet" href="__PUBLIC__/css/home/nav.css">
    <style>
		input[type=radio]{
			width: 20px;
		}
    </style>
     <!-- [if IE lt 10] -->
        <style>
            img{
                border:none;
            }
        </style>
    <!-- [endif] -->
</head>
<body>
	<include file="Public/nav" />
	<form id="expert" action="{:U('Signup/do_signup_expert')}" method="post" enctype="multipart/form-data">
		<div class="main">
			 <div class="line">
				<label for="logo">上传照片</label>
				<input type="file" id="logo" name="img" accept="image/*">
				<div class="upload"><img id="preview" src="" alt=""></div>
			</div>
			<div class="line">
				<label for="username">用户名</label>
				<input type="text" class="line-input" required id="username" name="username" ><span id="nameError" class="must">*</span>
			</div>
			<div class="line">
				<label for="pwd">密码</label>
				<input type="password" class="line-input" required id="pwd" name="pwd"><span class="must">*</span>
			</div>
			 <div class="line">
				<label for="sure_pwd">确认密码</label>
				<input type="password" class="line-input" required id="sure_pwd"><span id="pwdError" class="must">*</span>
			</div>
			<div class="line">
				<label for="realname">真实姓名</label>
				<input type="text" class="line-input" required id="realname" name="realname"><span class="must">*</span>
			</div>
			<div class="line">
				<label for="gender">性别</label>
				<input type="radio" name="gender" value="1" checked>男&nbsp;&nbsp;
				<input type="radio" name="gender" value="0">女
				<span class="must">*</span>
			</div>
			<div class="line">
				<label for="birthday">出生日期</label>
				<input type="text" class="line-input" required placeholder="例：1987-08-19" id="birthday" name="birthday"><span class="must">*</span>
			</div>
			<div class="line">
				<label for="identify">身份证号</label>
				<input type="text" class="line-input" required id="identify" name="identify"><span id="idError" class="must">*</span>
			</div>
			<div class="line">
				<label for="degree">学位</label>
				<select class="line-input" name="degree" id="degree">
					<option value="博士后">博士后</option>
					<option value="博士">博士</option>
					<option value="硕士">硕士</option>
					<option value="学士">学士</option>
					<option value="其他">其他</option>
				</select><span class="must">*</span>
			</div>
			<div class="line">
				<label for="political_status">政治面貌</label>
				<select class="line-input" name="political_status" id="political_status">
					<option value="党员">党员</option>
					<option value="预备党员">预备党员</option>
					<option value="其他党派人士">其他党派人士</option>
					<option value="无党派人士">无党派人士</option>
					<option value="其他">其他</option>
				</select><span class="must">*</span>
			</div>
			<div class="line">
				<label for="jobtype">职称</label>
				<select class="line-input" name="level" id="jobtype">
					<option value="1">教授</option>
					<option value="2">副教授</option>
					<option value="3">研究员</option>
					<option value="4">副研究员</option>
					<option value="5">高级工程师</option>
					<option value="6">讲师</option>
					<option value="7">其他类正高级</option>
					<option value="8">其他类副高级</option>
					<option value="9">中级</option>
					<option value="10">初级及以下</option>
				</select><span class="must">*</span>
			</div>
			<div class="line">
				<label for="research" style="float:left;">研究领域</label>
				 <input type="checkbox" name="research[]" value="1">结构工程
				<input type="checkbox" name="research[]" value="2">市政工程
				<input type="checkbox" name="research[]" value="3">防震减灾及防护工程<br>
				<input type="checkbox" name="research[]" value="4">桥梁与隧道公程
				<input type="checkbox" name="research[]" value="5">岩土工程
				<input type="checkbox" name="research[]" value="7">其他 <span id="" class="must">*</span>
			</div>
			<div class="line textarea">
				<label for="research_content">研究内容</label>
				<textarea name="research_content" id="research_content"></textarea>
			</div>
			 <div class="line">
				<label for="college">工作单位</label>
				<input type="text" class="line-input" id="college" name="college">
			</div>
			<div class="line">
				<label for="jobname">职务</label>
				<input type="text" class="line-input" id="jobname" name="jobname">
			</div>
			<div class="line">
				<label for="mobile-phone">手机号</label>
				<input type="text" class="line-input" required id="mobile-phone" name="mobile_phone" placeholder="例:13866665666"><span id="phoneError" class="must">*</span>
			</div>
			<div class="line">
				<label for="telphone">办公电话</label>
				<input type="text" class="line-input" required id="telphone" name="telphone" placeholder="例:0516-12345678"><span id="telphoneError" class="must">*</span>
			</div>
			<div class="line">
				<label for="email">邮箱</label>
				<input type="email" class="line-input" required id="email" name="email"><span class="must">*</span>
			</div>
			<div class="line textarea">
				<label for="info">个人简介</label>
				<textarea name="info" id="info"></textarea>
			</div>
			<div class="sub">
				<input type="submit" value="提交">
			</div>
		</div>
	</form>
	<include file = "Public/footer"/>
	<script>
		$(function() {
			$('#username').change(function(event){
				if($('#username').val().trim() != ""){
					var un = $('#username').val();
					console.log(un);
					$.ajax({
						type:"post",
						url:"__ROOT__/index.php/Public/checkName",
						dataType:'json',
						data:{username:un}
						})
					.done(function(data) {
						console.log("success",data);
						if(data.code == 0){
							$('#nameError').html("*");
							$('input[type=submit]').show();
						}else{
							$("#nameError").html("用户名已存在");
							$('input[type=submit]').hide();
						}
					})
					.fail(function(XMLHttpRequest, textStatus, errorThrown){
						$('#pwdError').html("error");  
						console.log("status = "+XMLHttpRequest.status);  // 200
						console.log("readyState = "+XMLHttpRequest.readyState); //4
						console.log("textStatus = "+textStatus);  //parsererror
					})
					.always(function() {
						console.log("complete");
					});
				}
			});
		});
	</script>
</body>
</html>